<html lang="pt_BR"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      Relatório do Trabalho Prático de Redes de Computadores II
    </title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" integrity="sha384-b6lVK+yci+bfDmaY1u0zE8YYJt0TZxLEAFyYSLHId4xoVvsrQu3INevFKo+Xir8e" crossorigin="anonymous">
  </head>

  <body class="container p-4"><audio class="audio-for-speech" src=""></audio><div class="translate-tooltip-mtz translator-hidden">
                    <div class="header">

                        <div class="header-controls">
                            <span class="support"></span>
                        </div>
                        <div class="header-controls">
                            <span class="settings"></span>
                        </div>
                    </div>
                    <div class="translated-text">
                        <div class="words"></div>
                        <div class="sentences"></div>
                    </div>
                </div><span class="translate-button-mtz" style="top: 593.9000244140625px;left: 914.5px;"></span>
    <h1 class="text-center">Um Serviço de Stream de Dados</h1>
    <p class="text-center">
      Relatório do Trabalho Prático de Redes de Computadores II - 2025/2
      <br>
      Alexander Danila Mion e Eduardo Faria Kruger <br>
      Universidade Federal do Paraná <br>
      Bacharelado em Ciência da Computação <br>
    </p>

    <h2>Introdução</h2>
    <p>
      Este relatório é feito sobre a implementação do 
      <a href="https://www.inf.ufpr.br/elias/redes/tpRedesII2025-2.html">Trabalho Prático de Redes de Computadores II</a>
      , proposto pelo Prof. <a href="https://www.inf.ufpr.br/elias/">Elias P. Duarte Jr</a>.
    </p>
    <h5>Requisitos de implementação</h5>
    <ul>
      <li>Implementar um uma moeda virtual, a MiniCoin</li>
      <li>Implementar uma <i>blockchain</i>, sendo ela uma sequência encadeada de registro de movimentações
        da conta de MiniCoins
      </li>
      <li>Implementar um hash para cada registro, sendo a <i>hash_atual</i> de um registro gerada com o registro atual mais o hash do registro anterior</li>
      <li>Implementar um cliente que fará solicitações ao servidor, sendo elas as 5 seguintes:</li>
      <li>Implementar funções de <i>Depósito</i>, <i>Saque</i>, <i>Ver Saldo</i> e <i>Encerrar conexão</i>.</li>
    
      <li>Na entrega:</li>
      <ul>
        <li>Link da página web.</li>
        <li>
          Acrescente a todo programa a terminação ".txt" para ser possível
          visualizar o código fonte no navegador.
        </li>
        <li>
          Logs de execução exaustivos dos processos cliente/servidores, que demonstrem a
          execução correta destes processos.
        </li>
      </ul>
    </ul>

    <h2>Implementação</h2>
    <li>Para a implementação do trabalho prático, foi utilizado a linguagem <a href="https://docs.python.org/3/"><i>Python3</i></a>, com as bibliotecas
    <a href="https://docs.python.org/3/library/hashlib.html#hashlib.sha256"><i>hashlib(sha256)</i></a>,
    <a href="https://docs.python.org/3/library/datetime.html#module-datetime"><i>datetime</i></a>,
    <a href="https://docs.python.org/3/library/socket.html#module-socket">socket</a> e
    <a href="https://docs.python.org/3/library/decimal.html">decimal</a>.
    
    </li>
    <li>Para a troca de mensagem, foi utilizado o seguinte padrão: <i>TIPO:{valor}</i>, sendo o <i>tipo</i> uma sequência de 4 caracteres, que representam 4 funções: (1) <i>tadd</i>, (2) <i>twit</i>, (3) <i>tbal</i> e (4) <i>tdra</i></li>
    <li>Para a função de encerramento de conexão, é enviado uma mensagem fora do padrão, contendo apenas <i>"FIN"</i>, além do fechamento do socket por meio do comando <i>client_socket.close()</i>. </li>
    <li>Dentre as funções de interação entre o cliente e o servidor, temos:</li>
    <ul>
        <li><i>1- Depósito:</i> Essa função é responsável por aumentar o valor do saldo, com base em uma entrada do teclado.<a href="https://www.flickr.com/photos/82222817@N00/2486087578">Log exemplo.</a> </li>
        <li><i>2- Saque:</i> Essa função é responsável por diminuir o valor do saldo, com base em uma entrada do teclado.<a href="https://www.flickr.com/photos/82222817@N00/2486087578">Log exemplo.</a> </li></li>
        <li><i>3- Saldo:</i> Essa função retornar o valor do saldo correspondente no momento da solicitação.<a href="https://www.flickr.com/photos/82222817@N00/2486087578">Log exemplo.</a> </li></li>
        <li><i>4- Ver BlockChain:</i> Essa função, majoritariamente utilizada para debug, mostra todo o fluxo de operações realizado em uma conta. <a href="https://www.flickr.com/photos/82222817@N00/2486087578">Log exemplo.</a> </li></li>
        <li><i>5 (0)- Encerrar conexão:</i> Essa função é responsável por encerrar a conexão entre o servidor e o cliente</li>
    </ul>
    <li>Abaixo, temos fluxogramas que exemplificam melhor o funcionamento dos programas:</li>
    <div class="alert alert-primary d-flex align-items-center" role="alert">
      <i class="bi bi-info-circle me-3" style="font-size: 1.25rem"></i>
      Para melhor visualização dos fluxogramas, recomenda-se abrir a imagem em
      uma nova aba.
    </div>
    <figure class="figure">
      <img src="./assets/diagrama_servidor.png" alt="Fluxograma de funcionamento do servidor" class="img-fluid rounded mx-auto d-block">
      <figcaption class="figure-caption text-center">
        <i>Imagem 2.0: Fluxograma de funcionamento do servidor</i>
      </figcaption>
    </figure>
    <figure class="figure">
      <img src="./assets/diagrama_cliente.png" alt="Fluxograma de funcionamento do cliente" class="img-fluid rounded mx-auto d-block">
      <figcaption class="figure-caption text-center">
        <i>Imagem 2.1: Fluxograma de funcionamento do cliente</i>
      </figcaption>
    </figure>

    <h2>Resultados Obtidos</h2>
    <p>
      resultado 1
    </p>
    <p>
      resultado 2
    </p>
    <p>
      resultado 3
    </p>

    <div class="alert alert-primary d-flex align-items-center" role="alert">
      <i class="bi bi-info-circle me-3" style="font-size: 1.25rem"></i>
      disclaimer
    </div>

    <h4>Teste 1</h4>
    <p>
      teste 1
    </p>
    <ul>
      <li>
        <a href="./assets/1_server.log.txt">Log do servidor simplificado</a>
      </li>
      <li>
        <a href="./assets/1_client1.log.txt">Log do cliente simplificado</a>
      </li>
      <li><a href="./assets/1v_server.log.txt">Log do servidor completo</a></li>
      <li><a href="./assets/1v_client1.log.txt">Log do cliente completo</a></li>
    </ul>
  